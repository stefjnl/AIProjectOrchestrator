# Phase 1: Simple HTML/JavaScript Frontend Implementation

## Context: Working API Backend Available
You are creating a minimal viable frontend for a **fully operational AI Project Orchestrator REST API**. The backend has 156 passing tests and provides complete project workflow automation through AI orchestration. Your job is to create the simplest possible frontend that demonstrates the working system.

**Critical Constraint**: The frontend must be simple enough to deploy as static files in a container and consume the existing REST API without any complex integration issues.

## API Endpoints Available (All Working)

### Project Management
```
GET    /api/projects                    # List all projects
POST   /api/projects                    # Create new project
GET    /api/projects/{id}               # Get specific project
PUT    /api/projects/{id}               # Update project
DELETE /api/projects/{id}               # Delete project
```

### AI Workflow Pipeline
```
POST   /api/requirements/analyze        # Start requirements analysis
GET    /api/requirements/{id}/status    # Check analysis status

POST   /api/planning/create            # Generate project plan
GET    /api/planning/{id}/status       # Check planning status

POST   /api/stories/generate           # Generate user stories
GET    /api/stories/{id}/status        # Check generation status

POST   /api/review/{id}/approve        # Approve review
POST   /api/review/{id}/reject         # Reject review
GET    /api/review/pending             # Get pending reviews
```

### Health Check
```
GET    /health                         # API health status
```

## Implementation Requirements

### 1. Project Structure
Create this exact structure in your project root:

```
frontend/
├── index.html                         # Main dashboard
├── projects/
│   ├── list.html                      # Project management
│   ├── create.html                    # Project creation
│   └── workflow.html                  # AI workflow interface
├── reviews/
│   └── queue.html                     # Review management
├── css/
│   └── app.css                        # Styling
├── js/
│   ├── api.js                         # API client functions
│   ├── app.js                         # Main application logic
│   └── workflow.js                    # Workflow management
└── Dockerfile                         # Container deployment
```

### 2. Core HTML Pages Implementation

#### index.html (Dashboard)
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Project Orchestrator</title>
    <link rel="stylesheet" href="/css/app.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">AI Project Orchestrator</div>
        <div class="nav-links">
            <a href="/">Dashboard</a>
            <a href="/projects/list.html">Projects</a>
            <a href="/reviews/queue.html">Reviews</a>
        </div>
    </nav>

    <main class="dashboard">
        <div class="dashboard-header">
            <h1>Project Dashboard</h1>
            <button class="btn btn-primary" onclick="window.location.href='/projects/create.html'">
                <i class="fas fa-plus"></i> New Project
            </button>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3>Recent Projects</h3>
                <div id="recent-projects">Loading...</div>
            </div>
            
            <div class="dashboard-card">
                <h3>Pending Reviews</h3>
                <div id="pending-reviews">Loading...</div>
            </div>
            
            <div class="dashboard-card">
                <h3>System Status</h3>
                <div id="system-status">Loading...</div>
            </div>
        </div>
    </main>

    <script src="/js/api.js"></script>
    <script src="/js/app.js"></script>
    <script>
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', initializeDashboard);
    </script>
</body>
</html>
```

#### projects/list.html (Project Management)
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - AI Orchestrator</title>
    <link rel="stylesheet" href="/css/app.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">AI Project Orchestrator</div>
        <div class="nav-links">
            <a href="/">Dashboard</a>
            <a href="/projects/list.html">Projects</a>
            <a href="/reviews/queue.html">Reviews</a>
        </div>
    </nav>

    <main class="projects-page">
        <div class="page-header">
            <h1>Projects</h1>
            <button class="btn btn-primary" onclick="window.location.href='/projects/create.html'">
                <i class="fas fa-plus"></i> New Project
            </button>
        </div>

        <div class="projects-container">
            <div id="loading" class="loading">Loading projects...</div>
            <div id="error" class="error" style="display: none;"></div>
            <div id="projects-grid" class="projects-grid" style="display: none;"></div>
            <div id="no-projects" class="no-projects" style="display: none;">
                <p>No projects found. Create your first project to get started.</p>
            </div>
        </div>
    </main>

    <script src="/js/api.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', loadProjectsList);
    </script>
</body>
</html>
```

#### projects/create.html (Project Creation)
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Project - AI Orchestrator</title>
    <link rel="stylesheet" href="/css/app.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">AI Project Orchestrator</div>
        <div class="nav-links">
            <a href="/">Dashboard</a>
            <a href="/projects/list.html">Projects</a>
            <a href="/reviews/queue.html">Reviews</a>
        </div>
    </nav>

    <main class="create-project-page">
        <div class="page-header">
            <h1>Create New Project</h1>
        </div>

        <form id="create-project-form" class="project-form">
            <div class="form-group">
                <label for="project-name">Project Name *</label>
                <input type="text" id="project-name" name="name" required>
            </div>
            
            <div class="form-group">
                <label for="project-description">Project Description *</label>
                <textarea id="project-description" name="description" required rows="4"></textarea>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-secondary" onclick="window.location.href='/projects/list.html'">
                    Cancel
                </button>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Create Project
                </button>
            </div>
        </form>

        <div id="create-status" class="status-message" style="display: none;"></div>
    </main>

    <script src="/js/api.js"></script>
    <script>
        document.getElementById('create-project-form').addEventListener('submit', handleCreateProject);
    </script>
</body>
</html>
```

### 3. JavaScript Implementation

#### js/api.js (API Client Functions)
```javascript
// API client for AI Project Orchestrator
const API_BASE_URL = 'http://localhost:8080/api';

class APIClient {
    static async get(endpoint) {
        const response = await fetch(`${API_BASE_URL}${endpoint}`, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        });
        
        if (!response.ok) {
            throw new Error(`API Error: ${response.status} - ${response.statusText}`);
        }
        
        return await response.json();
    }
    
    static async post(endpoint, data) {
        const response = await fetch(`${API_BASE_URL}${endpoint}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            },
            body: JSON.stringify(data)
        });
        
        if (!response.ok) {
            throw new Error(`API Error: ${response.status} - ${response.statusText}`);
        }
        
        return await response.json();
    }
    
    static async put(endpoint, data) {
        const response = await fetch(`${API_BASE_URL}${endpoint}`, {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            },
            body: JSON.stringify(data)
        });
        
        if (!response.ok) {
            throw new Error(`API Error: ${response.status} - ${response.statusText}`);
        }
        
        return await response.json();
    }
    
    static async delete(endpoint) {
        const response = await fetch(`${API_BASE_URL}${endpoint}`, {
            method: 'DELETE'
        });
        
        if (!response.ok) {
            throw new Error(`API Error: ${response.status} - ${response.statusText}`);
        }
        
        return response.ok;
    }
}

// Project API functions
async function getProjects() {
    return await APIClient.get('/projects');
}

async function getProject(id) {
    return await APIClient.get(`/projects/${id}`);
}

async function createProject(project) {
    return await APIClient.post('/projects', project);
}

async function updateProject(id, project) {
    return await APIClient.put(`/projects/${id}`, project);
}

async function deleteProject(id) {
    return await APIClient.delete(`/projects/${id}`);
}

// Requirements Analysis API functions
async function analyzeRequirements(request) {
    return await APIClient.post('/requirements/analyze', request);
}

async function getRequirementsStatus(id) {
    return await APIClient.get(`/requirements/${id}/status`);
}

// Review API functions
async function getPendingReviews() {
    return await APIClient.get('/review/pending');
}

async function approveReview(id, feedback = null) {
    return await APIClient.post(`/review/${id}/approve`, { feedback });
}

async function rejectReview(id, feedback) {
    return await APIClient.post(`/review/${id}/reject`, { feedback });
}

// Health check
async function getHealthStatus() {
    return await APIClient.get('/health');
}
```

#### js/app.js (Application Logic)
```javascript
// Dashboard initialization
async function initializeDashboard() {
    try {
        await loadRecentProjects();
        await loadPendingReviews();
        await loadSystemStatus();
    } catch (error) {
        console.error('Dashboard initialization failed:', error);
        showError('Failed to load dashboard data');
    }
}

async function loadRecentProjects() {
    try {
        const projects = await getProjects();
        const container = document.getElementById('recent-projects');
        
        if (projects.length === 0) {
            container.innerHTML = '<p>No projects yet. <a href="/projects/create.html">Create your first project</a></p>';
            return;
        }
        
        const recentProjects = projects.slice(0, 5);
        container.innerHTML = recentProjects.map(project => `
            <div class="project-summary">
                <h4><a href="/projects/workflow.html?id=${project.id}">${project.name}</a></h4>
                <p>${project.description}</p>
                <small>Created: ${formatDate(project.createdAt)}</small>
            </div>
        `).join('');
    } catch (error) {
        document.getElementById('recent-projects').innerHTML = '<p class="error">Failed to load projects</p>';
        console.error('Error loading recent projects:', error);
    }
}

async function loadPendingReviews() {
    try {
        const reviews = await getPendingReviews();
        const container = document.getElementById('pending-reviews');
        
        if (reviews.length === 0) {
            container.innerHTML = '<p>No pending reviews</p>';
            return;
        }
        
        container.innerHTML = `
            <p>${reviews.length} pending review${reviews.length > 1 ? 's' : ''}</p>
            <a href="/reviews/queue.html" class="btn btn-small">Review Now</a>
        `;
    } catch (error) {
        document.getElementById('pending-reviews').innerHTML = '<p class="error">Failed to load reviews</p>';
        console.error('Error loading pending reviews:', error);
    }
}

async function loadSystemStatus() {
    try {
        const health = await getHealthStatus();
        const container = document.getElementById('system-status');
        container.innerHTML = '<p class="status-healthy">System Operational</p>';
    } catch (error) {
        document.getElementById('system-status').innerHTML = '<p class="status-error">API Unavailable</p>';
        console.error('Error checking system status:', error);
    }
}

// Projects list page
async function loadProjectsList() {
    const loading = document.getElementById('loading');
    const error = document.getElementById('error');
    const grid = document.getElementById('projects-grid');
    const noProjects = document.getElementById('no-projects');
    
    try {
        const projects = await getProjects();
        loading.style.display = 'none';
        
        if (projects.length === 0) {
            noProjects.style.display = 'block';
            return;
        }
        
        grid.innerHTML = projects.map(project => `
            <div class="project-card" onclick="openProject('${project.id}')">
                <h3>${project.name}</h3>
                <p>${project.description}</p>
                <div class="project-meta">
                    <span class="date">Created: ${formatDate(project.createdAt)}</span>
                </div>
                <div class="project-actions">
                    <button class="btn btn-small" onclick="event.stopPropagation(); startWorkflow('${project.id}')">
                        <i class="fas fa-play"></i> Start Workflow
                    </button>
                </div>
            </div>
        `).join('');
        
        grid.style.display = 'grid';
    } catch (err) {
        loading.style.display = 'none';
        error.textContent = `Error loading projects: ${err.message}`;
        error.style.display = 'block';
        console.error('Error loading projects:', err);
    }
}

// Project creation
async function handleCreateProject(event) {
    event.preventDefault();
    
    const form = event.target;
    const formData = new FormData(form);
    const statusDiv = document.getElementById('create-status');
    
    const projectData = {
        name: formData.get('name'),
        description: formData.get('description')
    };
    
    try {
        statusDiv.innerHTML = '<p class="status-loading">Creating project...</p>';
        statusDiv.style.display = 'block';
        
        const result = await createProject(projectData);
        
        statusDiv.innerHTML = '<p class="status-success">Project created successfully!</p>';
        
        // Redirect after brief delay
        setTimeout(() => {
            window.location.href = `/projects/workflow.html?id=${result.id}`;
        }, 1500);
        
    } catch (error) {
        statusDiv.innerHTML = `<p class="status-error">Error creating project: ${error.message}</p>';
        console.error('Error creating project:', error);
    }
}

// Utility functions
function formatDate(dateString) {
    return new Date(dateString).toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'short',
        day: 'numeric'
    });
}

function openProject(projectId) {
    window.location.href = `/projects/workflow.html?id=${projectId}`;
}

function startWorkflow(projectId) {
    window.location.href = `/projects/workflow.html?id=${projectId}`;
}

function showError(message) {
    alert(message); // Simple error display - can be enhanced later
}
```

### 4. CSS Styling (Professional Look)

#### css/app.css
```css
/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: #f5f5f5;
    color: #333;
    line-height: 1.6;
}

/* Navigation */
.navbar {
    background: #2c3e50;
    color: white;
    padding: 1rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.nav-brand {
    font-size: 1.5rem;
    font-weight: bold;
}

.nav-links a {
    color: white;
    text-decoration: none;
    margin-left: 2rem;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.nav-links a:hover {
    background-color: #34495e;
}

/* Layout */
main {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 2rem;
}

.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

.page-header h1 {
    color: #2c3e50;
}

/* Buttons */
.btn {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    transition: background-color 0.2s;
    text-decoration: none;
    display: inline-block;
}

.btn-primary {
    background-color: #3498db;
    color: white;
}

.btn-primary:hover {
    background-color: #2980b9;
}

.btn-secondary {
    background-color: #95a5a6;
    color: white;
}

.btn-small {
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
}

/* Dashboard */
.dashboard-header {
    text-align: center;
    margin-bottom: 2rem;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.dashboard-card {
    background: white;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.dashboard-card h3 {
    margin-bottom: 1rem;
    color: #2c3e50;
}

/* Projects */
.projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
}

.project-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}

.project-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0,0,0,0.15);
}

.project-card h3 {
    margin-bottom: 0.5rem;
    color: #2c3e50;
}

.project-meta {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #ecf0f1;
    font-size: 0.9rem;
    color: #7f8c8d;
}

/* Forms */
.project-form {
    background: white;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    max-width: 600px;
    margin: 0 auto;
}

.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: #2c3e50;
}

.form-group input,
.form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
}

.form-actions {
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
}

/* Status Messages */
.status-loading { color: #f39c12; }
.status-success { color: #27ae60; }
.status-error { color: #e74c3c; }
.status-healthy { color: #27ae60; }

.loading, .error, .no-projects {
    text-align: center;
    padding: 3rem;
    color: #7f8c8d;
}

.error {
    color: #e74c3c;
}

/* Responsive Design */
@media (max-width: 768px) {
    .navbar {
        flex-direction: column;
        gap: 1rem;
    }
    
    .nav-links a {
        margin-left: 1rem;
    }
    
    .page-header {
        flex-direction: column;
        gap: 1rem;
    }
    
    .dashboard-grid {
        grid-template-columns: 1fr;
    }
}
```

### 5. Docker Configuration

#### frontend/Dockerfile
```dockerfile
FROM nginx:alpine

# Copy HTML/CSS/JS files to nginx document root
COPY . /usr/share/nginx/html/

# Custom nginx configuration for SPA routing
COPY nginx.conf /etc/nginx/conf.d/default.conf

EXPOSE 80

CMD ["nginx", "-g", "daemon off;"]
```

#### frontend/nginx.conf
```nginx
server {
    listen 80;
    location / {
        root /usr/share/nginx/html;
        index index.html;
        try_files $uri $uri/ /index.html;
        
        # CORS headers for API communication
        add_header 'Access-Control-Allow-Origin' '*' always;
        add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, OPTIONS' always;
        add_header 'Access-Control-Allow-Headers' 'Content-Type, Authorization' always;
    }
}
```

### 6. Updated docker-compose.yml

```yaml
version: '3.8'

services:
  db:
    image: postgres:16
    environment:
      POSTGRES_DB: aiprojectsdb
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: yourpassword
    ports:
      - "5433:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - app-network

  api:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    depends_on:
      - db
    environment:
      - ConnectionStrings__DefaultConnection=Host=db;Database=aiprojectsdb;Username=postgres;Password=yourpassword
      - InstructionSettings__BaseDirectory=/app/Instructions
      - AIProviders__Claude__ApiKey=${CLAUDE_API_KEY:-}
      - AIProviders__LMStudio__BaseUrl=http://host.docker.internal:1234
      - AIProviders__OpenRouter__ApiKey=${OPENROUTER_API_KEY:-}
      - ASPNETCORE_ENVIRONMENT=Development
    volumes:
      - ./Instructions:/app/Instructions:ro
    networks:
      - app-network

  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "8087:80"  # Frontend on port 8087 as requested
    depends_on:
      - api
    networks:
      - app-network

volumes:
  postgres_data:

networks:
  app-network:
    driver: bridge
```

## Implementation Instructions

### Critical Requirements

#### 1. API Integration Testing
Before implementing complex workflows, create simple test functions:

```javascript
// Test function to verify API connectivity
async function testAPIConnection() {
    try {
        console.log('Testing API connection...');
        
        // Test health endpoint
        const health = await getHealthStatus();
        console.log('Health check:', health);
        
        // Test projects endpoint
        const projects = await getProjects();
        console.log('Projects loaded:', projects.length);
        
        return true;
    } catch (error) {
        console.error('API connection failed:', error);
        return false;
    }
}
```

#### 2. Error Handling Pattern
Every API call must include comprehensive error handling:

```javascript
async function safeAPICall(apiFunction, errorElementId = null) {
    try {
        return await apiFunction();
    } catch (error) {
        console.error('API call failed:', error);
        
        if (errorElementId) {
            const errorElement = document.getElementById(errorElementId);
            if (errorElement) {
                errorElement.innerHTML = `<p class="status-error">Error: ${error.message}</p>`;
                errorElement.style.display = 'block';
            }
        }
        
        throw error;
    }
}
```

#### 3. CORS Configuration Verification
Ensure your existing API has CORS properly configured. If not, add to API/Program.cs:

```csharp
// Add CORS policy for frontend
builder.Services.AddCors(options =>
{
    options.AddDefaultPolicy(policy =>
    {
        policy.AllowAnyOrigin()
              .AllowAnyMethod()
              .AllowAnyHeader();
    });
});

// Use CORS in middleware pipeline
app.UseCors();
```

### Deployment & Testing

#### Development Testing
```bash
# Ensure API is running first
docker-compose up -d db api

# Test API directly
curl http://localhost:8080/health
curl http://localhost:8080/api/projects

# Build and run frontend
cd frontend
docker build -t ai-orchestrator-frontend .
docker run -p 8087:80 ai-orchestrator-frontend
```

#### Production Deployment
```bash
# Full system startup
docker-compose up -d

# Verify all containers running
docker-compose ps

# Test frontend access
# Frontend: http://localhost:8087
# API: http://localhost:8080
# Database: localhost:5433
```

## Success Criteria

### Immediate Success (30 minutes)
- [ ] Frontend container serves static files on port 8087
- [ ] API health check call succeeds from JavaScript
- [ ] Projects list loads successfully
- [ ] Project creation form submits and redirects properly

### Complete Workflow (2 hours)
- [ ] All project CRUD operations functional
- [ ] Requirements analysis workflow operational
- [ ] Review interface allows approval/rejection
- [ ] Error handling displays meaningful messages to users

### Deployment Success
- [ ] `docker-compose up -d` starts all services successfully
- [ ] Frontend accessible at http://localhost:8087
- [ ] API accessible at http://localhost:8080
- [ ] Database connections operational
- [ ] No container networking issues

## Critical Implementation Notes

**Simplicity Focus**: This is a functional frontend, not a complex framework integration. The goal is demonstrating your sophisticated backend through a simple, working interface.

**API First**: This REST API is production-ready. The frontend should showcase its capabilities, not fight with integration complexity.

**Container Deployment**: The Nginx container approach eliminates all the service registration and dependency injection issues you encountered with Blazor Server.

**Learning Value**: Focus on API design evaluation and REST endpoint optimization rather than frontend framework debugging.

The frontend serves one purpose: provide a working interface to demonstrate your AI orchestration pipeline. Keep it simple, functional, and focused on the core workflow.